---
title: "Poverty and Inequality Platform Methodology"
zotero: "PovcalNet Team"
output:
  html_document:
    number_sections: yes
    toc: true
    toc_float: true
  word_document: default
  pdf_document: default
editor_options: 
  markdown: 
    wrap: 72
bibliography: references.bib
---

```{=html}
<style type="text/css">
h1 { /* Header 1 */
  font-size: 28px;
}
h2 { /* Header 2 */
    font-size: 20px;
}
h3 { /* Header 3 */
    font-size: 16px;
}
body {
text-align: justify}

</style>
```
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE) 
```

<!-- INTRODUCTION -->

This page describes the methods used to derive the country-level,
regional, and global poverty and inequality estimates.

Please cite this page as:

World Bank. 2020. "Poverty and Inequality Platform Methodology
Handbook." March 2020 version. Available at [link to follow].

For old versions of this page, please see [link to follow].

# Acquiring household survey data

This section describes the types of data used for measuring poverty and
inequality and how the data are selected and obtained.

## Selection criteria and source of data

For developing countries, the Poverty and Inequality Platform relies
mostly on household surveys carried out by the countries' National
Statistical Offices (NSO) for monitoring poverty.

For high-income countries in the European Union (with the exception of
Germany), the data are obtained from the EU Statistics on Income and
Living Conditions (EU-SILC). For other high-income economies, Australia,
Canada, Germany, Israel, Japan, South Korea, Taiwan, China, and the
United States, data from the Luxembourg Income Study (LIS) Database are
used. These data rely on surveys carried out by NSOs or by academic
institutions. Data from the LIS database are also used for high-income
countries from the European union for years predating EU-SILC.

Occasionally, a survey filling the above criteria will not considered
due to quality concerns with the survey design, welfare aggregate or
auxiliary data. Whenever such decisions are made, they are done by the
Global Poverty Working Group within the World Bank and the reason for
the exclusion of a data point is summarized in "What's New" documents.

## Representativeness

[Daniel]{style="color:red"}

Discuss within-country spatial coverage. Mention that non-national
surveys are also available but not used for regional/global numbers
(Argentina exception). Temporal coverage; often covers one year,

## Binned vs. micro data

[Daniel]{style="color:red"}

Mention countries exclusively relying on binned data.

## How data are obtained

Most of the data for the East Asia & Pacific, the Middle East & North
Africa, South Asia, and Sub-Saharan Africa are obtained from countries'
National Statistical Offices. In many low-income countries, the Poverty
and Equity Global Practice of the World Bank is cooperating with the
National Statistical Offices and supporting their efforts to conduct
household surveys and measure poverty. Data are obtained through these
partnerships.

For Latin America and the Caribbean, most of the data are obtained from
CEDLAS's Socio-Economic Database for Latin America and the Caribbean
(SEDLAC).

For most high-income countries data are obtained through the Luxembourg
Income Study.

All of the data are harmonized by the Poverty and Equity Global Practice
of the World Bank and then passed on the Poverty and Inequality
Platform.

# Constructing welfare aggregates {#welfareaggregate}

Several different concepts of poverty exist, building on different
philosophical notions of what well-being, and the absence of well-being
entails. The Poverty and Inequality Platform utilizes a monetary measure
of poverty throughout.

## Income or consumption {#incomeorconsumption}

[Marta]{style="color:red"}

The welfare measure used for poverty measurement is based on either
income or consumption household survey data. The differences between
income and consumption matter for comparing trends and levels of
poverty. Countries typically choose the concept that can be more
accurately measured and that is more relevant to the context, while
balancing concerns about respondent burden. On the one hand, consumption
measures of poverty require a wide range of questions and are thus more
time-consuming. Income measures, on the other hand, are difficult to
obtain when a large fraction of the population works in the informal
sector or is self-employed, which is frequently the case in poorer
economies. Also, when households produce their own food with limited
market interactions, it is harder to measure income than consumption.

Both approaches to measuring poverty have advantages and disadvantages.
The consumption approach is arguably more directly connected to economic
welfare. Income measures of poverty also suffer from the disadvantage
that incomes might be very low---even negative---in a given period,
whereas consumption is smoothed to safeguard against such shocks.
Consumption-based measures of poverty, conversely, are often more time
intensive and require detailed price data and often post-fieldwork
adjustments. Also, the design of consumption questionnaires varies
widely and, as shown by numerous experiments, can have significant
effects on final poverty estimates (@beegle2012 @deaton2001
@jolliffe2001)

Income measures often rely on no more than a handful of questions and
can, at times, be verified from other sources. Moreover, given that
incomes can be very low or negative, poverty rates are typically higher
when income is used rather than consumption. For a given poverty rate,
poor households also tend to be further below the poverty line when
income is used, as explained by the earlier point about very low
incomes: although it is plausible for households to have zero income in
a given period, subsistence requires a minimum level of consumption,
which is strictly above zero ( @worldbank2018 ). For this reason, PIP's
current practice is to drop observations with negative welfare, while
zeros are included.

## Within-survey spatial/temporal deflation

[Samuel]{style="color:red"}

Poverty estimates are based on household welfare aggregates that are
constructed from income or consumption surveys. Consumption surveys are
often the source of data for most developing countries and are conducted
over a period of time, sometimes spanning two calendar years. The
Gambia, for example, has a survey or decimal year as 2015.31, meaning
that 69% of the months of the fieldwork fall in 2015 while 31% of the
fieldwork months fall in 2016. By convention, the year that is reported
is the floor of the decimal year (e.g. 2015 in the case of the Gambia
mentioned above). For EU-SILC/LIS countries, the reported year is the
year before the survey year.

Household welfare aggregates are adjusted for temporal and/or spatial
price differences within surveys, but not in all cases. Household
consumption expenditure could be converted into the prices of a
particular month or the average price level observed in a survey year
(e.g. with a consumer price index). Similarly, household consumption
expenditure could be converted into the prices of a particular location
(e.g. capital city) or the national average price level obtained from
both rural and urban prices (e.g. with a spatial price index). China,
India and Indonesia have rural/urban PPPs that are used to deflate
household welfare aggregates to account for spatial price differences
within these countries (more details in Section
\@ref(purchasing-power-parities-ppps). Sometimes, a spatio-temporal
price index is used to jointly adjust for both spatial and temporal
price differences (e.g. the household welfare aggregate from the survey
conducted in Ghana (2016.75) is evaluated at 2013 Greater Accra regional
prices). These temporal and/or spatial price adjustments are important
for constructing welfare aggregates in real terms.

## Questionnaire design

[Daniel]{style="color:red"}

Discuss the relevance of questionnaire design for the consumption
aggregate (perhaps refer to some of the papers on the topic). Use the
India MMRP/URP example (PSPR 2018 has material).

## Imputed rent

During the process of constructing a welfare aggregate, housing is
arguably the most important and difficult of all the components to
include. From a conceptual point of view, housing could be understood as
any other durable good. Its present value is not relevant for the
analysis of current welfare because purchasing a house is such a large
and relatively rare expenditure that is should not be included the in
welfare aggregate.[@deaton2002, p.35]. The objective is instead on
measuring the value of the of occupying the dwelling for the length of
the survey period.

Whether the welfare aggregate is based on consumption or income,
accounting for housing is equally important. When the welfare aggregate
is based on consumption, household surveys usually record the value of
rent paid by market tenants. Since rent is the market value of occupying
a house for a given period of time, it is feasible and empirically
viable to estimate the flow of housing services. Yet, the same
information is not available for household owners, even though they also
"consume" housing services. By not including the value of housing
"consumed" by owners, it would look like two household with the very
same consumption patterns have different welfare just because one pays
rent and the other does not. In fact, the market tenant would look
better off than the household owner because the consumption of the
former is higher than the one of the latter.

When the welfare aggregate is based on income the logic is similar. In
this case, the welfare aggregate should be composed by the remuneration
of all the assets of the household including labor, capital, and durable
goods such as houses and cars [@gasparini2004]. Families that own their
housing receive an implicit value that is equivalent to the amount of
money they would have to pay in the market if they had to rent a
dwelling similar to the one they are currently living in.

## Treatment of binned data

[Christoph and Samuel]{style="color:red"}

In addition to micro data, grouped data are used as another source of
data for estimating poverty and inequality when micro data are not
available (e.g. China data). Grouped data are consumption expenditure or
income organized in graduated class intervals or bins (e.g. see [Table
1](https://rpubs.com/tsamuel/709173)). Grouped data can be used to
derive a Lorenz function that may be used to estimate poverty and
inequality measures. Two main approaches in the literature---the general
quadratic (GQ) Lorenz function and the Beta Lorenz function---tend to
estimate poverty and inequality fairly accurately [@datt1998]. Due to
its computational simplicity, the general quadratic (GQ) Lorenz function
is preferred. A parameterized GQ Lorenz function is estimated using the
following specification:

$$
L(1-L) = a(p^2-L) + bL(p-1) + c(p-L),
$$

where $p$ is the cumulative proportion of population, $L$ is the
cumulative proportion of consumption expenditure or income, and $a$,
$b$, $c$ are parameter estimates [@datt1998]. Poverty and inequality
measures are based on the parameter estimates (see Section
\@ref(calculating-poverty-and-inequality)).

## Equivalence scale

All welfare aggregates are converted per capita forms by dividing with
the number of household members. Implicit behind this converstion is an
assumption that all household members have equal consumption levels or
derive equal welfare from the total household income. This is a strong
assupmtion, and evidence has shown that females often get less than an
equal part (see World Bank 2018 chapter 5 and references therein). If
different household members have different needed, which could be the
case if children, for example, require less consumption than adults,
then comparing welfare per capita might be misleading. An alternative
assumption, often used by countries themselves when measuring poverty,
is to use an adult equivalence scale. Such a scale defines the
consumption need of each houeshold member, often based on sex and age
and size of the household, and calculates the consumption per adult
equivalent rather than per person. Despite of its compelling features,
the lack of agreement on the equivalence scale levels across countries,
and the more difficult interpretation of the final welfare numbers has
prevented the World Bank from using such numbers for global poverty
monitoring thus far. \@

## Comparability database

In September 2019, the PovcalNet team and the Poverty GP put together
the [Comparability Over
Time](https://datacatalog.worldbank.org/dataset/comparability-over-time-country-level-international-poverty-measures)
dataset, which provides metadata on the comparability of poverty
estimates from
[PovcalNet](http://iresearch.worldbank.org/PovcalNet "Opens in a new window")
within countries over time. The complete documentation of this dataset
is available in Atamanov et al [-@atamanov2019] (Section 4). The
following excerpt from this document clearly explains the motivation of
this dataset:

> As countries frequently improve household surveys and measurement
> methodology, strict comparability of poverty estimates over time is
> often limited. Within a country, we assume comparability of poverty
> estimates over time unless there is a known change to survey
> methodology, measurement or data structure. Thus, the assessment of
> comparability is country-dependent and relies on the accumulation of
> knowledge from past and current Bank staff in the countries, as well
> as close dialogue with national data producers with knowledge of
> survey design and methodology

### Application {.unnumbered}

The comparability dataset is practically useful in any estimation that
compares welfare aggregates from household surveys over time. In the
blog [*Apples to apples --- PovcalNet introduces a new comparability
indicator*](https://blogs.worldbank.org/opendata/apples-apples-povcalnet-introduces-new-comparability-indicator)*,*
the authors present two examples on how to merge the comparability
dataset with the
[PovcalNet](http://iresearch.worldbank.org/PovcalNet/home.aspx)
estimates. Both charts in the blog could be replicated in R and/or Stata
by running the scripts available in the
[worldbank/Global_Poverty_Blogs](https://github.com/worldbank/Global_Poverty_Blogs/tree/master/bg_povcalnet_comparability)
repository.

### Access the data {.unnumbered}

The dataset could be accessed in different ways. The official version is
available in the [Development Data
Hub](https://datacatalog.worldbank.org/dataset/comparability-over-time-country-level-international-poverty-measures)
of the World Bank. However, it is possible to access it directly from R,
Stata, or Python by calling this file,
"<https://development-data-hub-s3-public.s3.amazonaws.com/ddhfiles/506801/povcalnet_comparability.csv%22.>

#### R {.unnumbered}

```{r, eval = FALSE}
link <- "https://development-data-hub-s3-public.s3.amazonaws.com/ddhfiles/506801/povcalnet_comparability.csv"
df   <- readr::read_csv(link)
```

#### Stata {.unnumbered}

```{stata, eval = FALSE}
local dh "https://development-data-hub-s3-public.s3.amazonaws.com/ddhfiles/506801/povcalnet_comparability.csv"
import delimited using "`dh'", clear
```

#### Python {.unnumbered}

```{python, eval = FALSE}
import pandas as pd
link = "https://development-data-hub-s3-public.s3.amazonaws.com/ddhfiles/506801/povcalnet_comparability.csv"
df   = pd.read_csv(path)
```

Each observation of the comparability dataset represents a survey point
which is the combination of ISO3 country code (`countrycode`), `year`,
survey acronym (`survname`), Welfare type (i.e., income or consumption)
(`datatype`), and survey coverage (`coveragetype`). Variable
`comparabiliy` specified the comparability over time with the following
logic. The oldest comparable series in each country starts with the
value zero (0) in the `comparability` variable. When comparability is
broken, the value changes to one (1) for the year of the break and it
goes on until the comparability is broken again in a subsequent year.
The process repeats until the most recent surveys point available. Thus,
to get the most recent comparable spell, you need the
`max(comparability)` by `countrycode, survname, datatype, coveragetype`.

# Generating survey estimates

Welfare aggregates from household surveys are expressed in national
currency units in current prices. To use a [welfare
aggregate](#welfareaggregates) from a particular survey to estimate
international poverty the welfare aggregates need first to be converted
to a unit comparable across time and across countries. First, [Consumer
Price Indices (CPIs)](#CPIs) are used to to make express the aggregates
in constant prices. Second, [Purchasing Power Parities (PPPs)](#PPPs)
are used to express all welfare aggregates in the same currency.

## Consumer Price Indices (CPIs) {#CPIs}

Consumer price indices (CPIs) summarize the prices of a representative
basket of good and services consumed by households within an economy
over a period of time. Inflation (deflation) occurs when there is a
positive (negative) change in the CPI between two time periods. With
inflation, the same amount of rupees is expected to buy more today than
in one year from today. CPIs are used to deflate nominal income or
consumption expenditure of households, so that the welfare of households
can be evaluated and compared between two time periods at constant
prices.

The primary source of CPI data for PovcalNet updates is the [IMF's
International Financial Statistics
(IFS)](https://data.imf.org/?sk=4c514d48-b6ba-49ed-8ab9-52b0c1a0179b)
monthly CPI series. The simple average of the monthly CPI series for
each calender year is used as the annual CPI. When IFS data are missing,
other sources of CPI data are obtained from [IMFs World Economic Outlook
(WEO)](https://www.imf.org/en/Publications/SPROLLs/world-economic-outlook-databases#sort=%40imfdate%20descending)
and National Statistical Offices (NSOs), among others. For more details
on the different sources of CPI data used for global poverty
measurement, see Figure 1 of @lakner2018 and "What's New" technical
notes accompanying PovcalNet updates (e.g. the latest [September 2020
PovcalNet Update: What's
New](https://blogs.worldbank.org/opendata/september-2020-global-poverty-update-world-bank-new-annual-poverty-estimates-using-revised)).

CPI series are expressed in the prices of the International Comparison
Programme (ICP) reference year, currently 2011.

## Purchasing Power Parities (PPPs) {#PPPs}

Purchasing power parities (PPPs) are used in global poverty estimation
to adjust for relative price differences across countries. PPPs are
price indices that measure how much it costs to purchase a basket of
goods and services in one country compared to how much it costs to
purchase the same basket of goods and services in a reference country,
typically the United States. PPP exchange rates are preferred to market
exchange rates for the measurement of global poverty because the latter
overestimates poverty in developing countries, where non-tradable
services are relatively cheap (i.e., the Balassa-Samuelson-Penn effect)
[Is there a paper we can cite here?]. The revised 2011 PPPs are
currently used to convert household consumption or income aggregates,
originally expressed in local currency units, into a common
internationally comparable currency unit.

The PPP estimates published by the
[ICP](https://www.worldbank.org/en/programs/icp) are used for global
poverty measurement with a few exceptions. PPPs are imputed for six
countries, namely Egypt, Iraq, Jordan, Lao, Myanmar and Yemen, where
there are concerns over the coverage and/or quality of the underlying
ICP price collection [@atamanov2018; @atamanov2020]. To account for
"urban bias" in ICP data collection, rural-urban PPPs are also imputed
for China, India and Indonesia using official national PPPs, the ratio
of urban to rural poverty line, and the urban share in ICP price data
collection [@chen2008; @chen2010; @jolliffe2015; @ferreira2016].

## Derivation of the international poverty line {#IPL}

Most developing countries have a national poverty line which summarizes
the value of the income/consumption per person or per adult equivalent
that is needed to not live in poverty. These national poverty lines are
typically estimated by [Samuel: Can you add a couple of sentences here
on what national poverty lines are?].

To compare poverty across countries one needs a common standard. Hence,
national poverty lines, which differ from one country to the next,
cannot be used. The international poverty line (IPL) is an attempt to
summarize the national poverty lines of the poorest countries. The
current international poverty line of \$1.90/day in 2011 PPPs was
derived as the mean national poverty line of the 15 poorest countries.
That is, it represent a typical poverty line of the poorest countries in
the world.

The line has been derived as follows. First, national poverty lines are
converted into PPP-adjusted dollars in the same manner as welfare
distribution are converted. This was done by @ravallion2009 who selected
15 poorest countries based on household final consumption expenditure
per capita of countries around 2008 when the 2005 PPPs were released.
The 15 poorest countries at the time were Ethiopia, Ghana, The Gambia,
Guinea-Bissau, Mali, Mozambique, Malawi, Niger, Nepal, Rwanda, Sierra
Leone, Chad, Tajikistan, Tanzania, and Uganda. An IPL of \$1.25/day per
person, expressed in 2005 PPP dollars, was determined as the mean of the
national poverty lines of these countries. When the 2011 PPPs were
released in 2014, the same 15 national poverty lines were used, but now
converted to 2011 PPPs yielding an IPL of \$1.88, which was rounded to
\$1.90 [@ferreira2015; @ferreira2016]. When the 2011 PPPs got revised in
2020, the IPL was similarly updated but remains unchanged at \$1.90
[@atamanov2020; @worldbank2020].

## Derivation of other global poverty lines

In addition to the [international poverty line](#IPL), the World Bank us
two higher poverty lines to measure and monitor poverty in countries
with a low incidence of extreme poverty. These higher lines, namely
\$3.20 and \$5.50 in revised 2011 PPPs. These lines are derived in
@jolliffe2016 as the median values of national poverty lines of lower-
and upper-middle income countries, respectively. These lines were
originally defined in original 2011 PPPs, but have later been updated
using the revised 2011 PPPs with virtually no changes observed
[@jolliffe2016; @atamanov2020; @worldbank2020].

# Calculating poverty and inequality {#sec:title}

Armed welfare aggregates expressed in 2011 PPPs and an international
poverty line, poverty and inequality can be calculated and compared
across countries and across time. This section outlines the poverty and
inequality measures used in the Poverty and Inequality Platform. The
poverty and inequality measures estimated from micro data are mainly
based on formulae in @haughton2009, while the poverty and inequality
measures estimated from grouped data are mainly based on formulae in
@datt1998.

## Poverty measures

**Poverty headcount index**: The poverty headcount index ($P_0$) is a
measure of the proportion of the population that is counted as poor. The
poverty headcount index is obtained from micro data with the following
expression:$$ P_0 = \frac{1}{N} \sum_{i=1}^{N} I (y_i < z), $$

where $N$ is the total population size, $y_i$ is welfare of individual
$i$, $z$ is the poverty line, and $I(.)$ is an indicator function that
takes on the value 1 if the bracketed expression is true or 0 otherwise.

Headcount:
<https://github.com/PIP-Technical-Team/wbpip/blob/master/R/md_compute_poverty_stats.R>

For grouped data, the poverty headcount is obtained using the following
expression:

$$
P_0 = - \frac{1}{2m}[n + r(b+2z/\mu)((b+2z/\mu)^2)-m)^{-1/2}],
$$

where $m$ = $b^2 - 4a$, $n = 2be - 4c$, $r = (n^2 - 4me^2)^{1/2}$,
$e = -(a + b + c + 1)$, $z$ is the poverty line, $\mu$ is the mean
welfare, and $a, b, c$ are the parameter estimates of the GQ Lorenz
function.

**Poverty gap index**: The poverty gap index ($P_1$) is a measure that
adds up the extent to which individuals on average fall below the
poverty line, and expresses it as a percentage of the poverty line. The
poverty gap index is obtained from micro data with the following
expression:

$$ P_1 = \frac{1}{N} \sum_{i=1}^{N} \frac{G_i}{z} $$ with
$G_i = (z - y_i) × I (y_i < z)$, where $G_i$ is defined as the poverty
gap (i.e. poverty line ($z$) less welfare ($y_i$)) of poor individuals;
the gap is considered to be zero for everyone else. The poverty gap
index shows the minimum cost per capita cost of eliminating poverty
using targeted transfers, expressed as a percentage of the poverty line
(source code: [micro
data](https://github.com/PIP-Technical-Team/wbpip/blob/master/R/md_compute_poverty_stats.R)).

For grouped data, the poverty gap index is obtained using the following
expression:

$$
P_1 = P_0 - (\mu/z)L(P_0)
$$

with all variables defined as before (source code: [grouped
data](https://github.com/PIP-Technical-Team/wbpip/blob/master/R/gd_compute_pip_stats_lq.R)).

**Poverty severity index**: The poverty severity index ($P_2$) is a
measure of the weighted sum of poverty gaps (as a proportion of the
poverty line), where the weights are the proportionate poverty gaps
themselves. The poverty severity index is obtained from micro data with
the following expression:

$$ P_1 = \frac{1}{N} \sum_{i=1}^{N} \left(\frac{G_i}{z} \right)^2 $$

with all variables defined as before. Also known as the poverty squared
gap index, the poverty severity index accounts for inequality among the
poor (source code: [micro
data](https://github.com/PIP-Technical-Team/wbpip/blob/master/R/md_compute_poverty_stats.R)).

For grouped data, the poverty severity index is obtained using the
following expression:

$$
P_2 = 2(P_1) - P_0 - \left(\frac{\mu}{z}\right)^2 \left[aP_0 + bL(P_0) - \left(\frac{r}{16}\right)ln \left(\frac{1 - P_0/s_1}{1 - P_0/s_2}\right)     \right],
$$

where $s_1 = (r- n)/(2m)$, $s_2 = -(r + n)/(2m)$, and all other
variables are defined as before (source code: [grouped
data](https://github.com/PIP-Technical-Team/wbpip/blob/master/R/gd_compute_pip_stats_lq.R)).

**The Watts index**: The Watts index ($W$) is also an
inequality-sensitive poverty measure that is given as:

$$ W  = \frac{1}{N} \sum_{i=1}^{q} ln \left(\frac{z}{y_i} \right), $$

where $N$ individuals in the population are indexed in ascending order
of consumption expenditure (or income), and the sum is taken over $q$
individuals whose consumption expenditure or income $y_i$ falls below
the poverty line $z$. This formula applies for both micro and grouped
data (source code: [micro
data](https://github.com/PIP-Technical-Team/wbpip/blob/master/R/md_compute_poverty_stats.R)
and [grouped
data](https://github.com/PIP-Technical-Team/wbpip/blob/master/R/gd_compute_pip_stats_lq.R)).

## Inequality measures

**Gini coefficient**: The Gini coefficient is derived from the Lorenz
curve, which plots the cumulative welfare share (on the y-axis) against
the cumulative population share (on the x-axis). A 45-degree line is
defined over the Lorenz curve as a line of perfect equality. The Gini
coefficient is the area between the line 45-degree line and the Lorenz
curve. Let $A$ be the area between the 45-degree line and the Lorenz
curve, and let $B$ be the area under the Lorenz curve. The Gini
coefficient ($Gini$) is given as: $\frac{A}{A + B}= 2A$ (since
$A + B = 0.5$).

Formally, if $x_i$ is a point on the x-axis, and $y_i$ a point on the
y-axis, then

$$ Gini = 1 - \sum_{i=1}^{N} (x_i - x_{i-1})(y_i + y_{i-1}).
$$

When there are $N$ equal intervals on the x-axis, the equation above
simplifies to:

$$ Gini = 1 - \frac{1}{N}\sum_{i=1}^{N} (y_i + y_{i-1}). $$

The Gini coefficient ranges from 0 (perfect equality) to 1 (complete
inequality) (source code: [micro
data](https://github.com/PIP-Technical-Team/wbpip/blob/master/R/md_compute_gini.R)).

For grouped data, the Gini coefficient is obtained using the following
expression:

$$
Gini = \begin{cases}
 \frac{e}{2} - \frac{n(b + 2)}{4m} + \frac{r^2}{8m\sqrt{-m}} \left[\sin^{-1} \frac{(2m + n)}{r} - \sin^{-1}\frac{n}{r} \right] & \text{if $m<0$} \\ 
 \frac{e}{2} - \frac{n(b + 2)}{4m} + \frac{r^2}{8m\sqrt{m}} ln\left[\text{abs}\left( \frac{2m + n + 2\sqrt{m}(a + c - 1)}{n - 2e\sqrt{m}}\right) \right]  & \text{if $m>0$}
 \end{cases} 
 $$

with all parameters defined as before (source code: [grouped
data](https://github.com/PIP-Technical-Team/wbpip/blob/master/R/gd_compute_pip_stats_lq.R)).

**Mean log deviation**: The mean log deviation (MLD) belongs to the
family of generalized entropy (GE) inequality measures. It is given as:

$$ MLD  = \frac{1}{N} \sum_{i=1}^{N} ln \left(\frac{μ}{y_i} \right), $$

where $N$ is the total population size, $μ$ is the mean welfare per
person, and $y_i$ is welfare of individual $i$. The mean log deviation
has a minimum value of 0 (perfect equality) and has no upper bound. This
formula applies for both micro and grouped data (source code: [micro
data](https://github.com/PIP-Technical-Team/wbpip/blob/master/R/md_compute_mld.R)
and [grouped
data](https://github.com/PIP-Technical-Team/wbpip/blob/master/R/gd_compute_pip_stats_lq.R)).

**Polarization**: The polarization index ($P$) measures the extent to
which the distribution of welfare is "spread out" and bi-modal. It is
given as:

$$
P =  \frac{2(\mu^* - \mu^L)}{m},
$$

where $\mu^*$ is the distribution-correction mean (i.e.
$\mu(1 - Gini)$), $\mu^L$ is the mean of the poorest half of the
population, and $m$ is the median. Like the Gini coefficient, the
polarization index ranges from 0 (no polarization) to 1 (complete
polarization). The polarization index is based on @wolfson1994 and
@ravallion1996. This formula applies for both micro and grouped data
(source code: [micro
data](https://github.com/PIP-Technical-Team/wbpip/blob/master/R/md_compute_polarization.R)
and [grouped
data](https://github.com/PIP-Technical-Team/wbpip/blob/master/R/gd_compute_pip_stats_lq.R)).

# Generating global and regional estimates

Few countries have survey estimates of poverty available every year. To
estimate poverty at the regional and global level at a given reference
year, the country-specific, this means that survey estimates need to be
aligned to this year and aggregated. This requires assumptions about how
to interpolate and extrapolate data points as well as how to treat
countries without any poverty data. This section explains how these
calculations are made.

## Extrapolations {#extrapolations}

When estimating global poverty for a recent year, one is met by the
challenge that most countries do not have recent data on poverty. For
countries with no recent surveys available for a specific reference
year, but which do have earlier poverty estimates available, their most
recent welfare aggregate is extrapolated forward using growth rates from
national accounts. This is done by first finding the growth in national
accounts that occurred between the time of the survey and the time of
the reference year, and scaling the survey welfare distribution,
$f(y_{survey})$ by this growth factor. This yields an estimate of the
welfare distribution at the reference year, $f(y_{reference})$ as
summarized below:

$$f(y_{reference}) = \dfrac{NA_{reference}}{NA_{survey}} \times f(y_{survey})$$

where $NA_{t}$ is real GDP per capita or real HFCE per capita at time
$t$, as explained in the [National accounts data
section](#nationalaccounts). Poverty for the reference year is then
estimated using this extrapolated distribution. A similar approach is
used to extrapolate backwards, that is when the earliest survey estimate
available is more recent than the desired reference year.

[Fictive illustration of how extrapolations work]

Importantly, the extrapolation method assumes distribution-neutral
growth, i.e. the consumption or income aggregate of the entire
distribution grows at the same national average rate. This implies that
inequality is assumed to stay constant. The extrapolation method also
assumes that all growth in national accounts is passed through to the
growth in welfare observed in surveys. Evidence exists that there are
differences in growth rates between growth in national accounts
aggregates and growth in welfare aggregate captured in household
surveys. The growth in survey aggregate has historically been lower than
the growth in national accounts (for example see @ravallion;
@deaton2005; @pinkovskiy2016; @lakner2020). Hence, a pass-through, i.e.
the fraction of growth in national accounts captured in household
surveys, is used to calculate the survey growth rates from national
accounts for the extrapolation method.

### Pass-through rate for India

India is a particular case where the pass-through methodology is
applied. The latest available survey for India is from 2011/12. Poverty
headcount for India after 2011/12 is calculated using the extrapolation
method defined above with a national accounts growth rate adjusted for a
pass-through rate. Up to 2015, an implied pass-through rate is
calculated using the poverty estimates for 2014/15 reported in
@newhouse2018. The national pass-through rate in India for the period
2011/12-2014/15 is estimated to be 0.65. The 0.65 national pass-through
rate is calculated as the population-weighted average of the rural
pass-through rate (0.699) and urban pass-through rate (0.551), which are
calibrated using the poverty estimates from @newhouse2018 for 2014/15
(for more details, see @chen2018).

Poverty for years 2015-2018 is estimated using a pass-through rate
calculated using a global sample of surveys (for more detail, see
@lakner2020; Ifeyani et al., 2020). This estimated pass-through rate of
0.67 is used to extrapolate poverty in India for this period (for more
detail, see Ifeyani et al, 2020).

## Interpolations {#interpolations}

In cases where the reference year falls between two surveys, poverty is
estimated for the reference year using the nearest survey on each side
of the reference year. One of two approaches are used, depending on the
correspondence in growth between national accounts and survey data.

"Same direction" interpolation is used when growth in the survey mean
between the two surveys is of the same sign as the real growth from
national accounts from the survey before the reference year to the
reference year and from the reference year to the survey after the
reference year. Denoting $survey1$ the survey predating the reference
year and $survey2$ the survey after the reference year, this means that
same direction interpolation is used when

$$sign \bigg(\dfrac{μ_{survey2}}{μ_{survey1}}-1\bigg) = 
  sign \bigg(\dfrac{NA_{survey2}}{NA_{reference}}-1\bigg) = 
  sign \bigg(\dfrac{NA_{reference}}{NA_{survey1}}-1\bigg)$$

[Can we add a rationale for this equation?]

"Diverging directions" interpolation is used when the equation above
does not hold.

### "Same direction" interpolation

"Same direction" interpolation works in three steps.

First, the survey mean at the reference year, $mean_{reference}$, is
estimated using the following interpolation formula:

$$μ_{reference} = (μ_{survey2} - μ_{survey1}) \times \dfrac{NA_{reference} - NA_{survey1}}{NA_{survey2} - NA_{survey1}} + μ_{survey1}$$

Second, the welfare distributions at the two surveys are scaled to
reflect this mean:

$$f(y_{reference,i}) = \dfrac{μ_{reference}}{μ_{survey,i}} \times f(y_{survey,i}), $$where
$i={1,2}$ . After this alignment, there are two distributions both which
have the same mean for the reference year but different rates of
poverty.

At the final step, poverty is estimate from each of these distributions,
and the final poverty estimate at the reference year is the weighted
average poverty rate from both distributions where whereby each poverty
estimate is weighted by the inverse of the relative distance between the
survey year and the reference year:

$$P_{0,reference} = \dfrac{P_{0,reference,1}*(t_{survey,2}-t_{reference})+P_{0,reference,1}*(t_{reference}-t_{survey,2})}{t_{survey,2}-t_{survey,1}} $$For
example, if a reference year falls two years after he first survey and
one year after the second survey, the poverty estimate from the first
survey is given a weight of 1/3 and the estimate from the second survey
a weight of 2/3.

### "Diverging directions" interpolation

If the growth rates in surveys and national accounts diverge, an
approach similar to the extrapolation is applied to the two closest
surveys; poverty is extrapolated forward by the national account growth
rate using the early survey and backwards using later survey. Poverty
for the reference year is estimated using both distributions and the
estimates are averaged using formula. The mechanics of the extrapolation
and interpolation are described in @ravallion2003, @chen2004, box 6.4 in
@jolliffe2015, and in Appendix A of @worldbank2018.

## National accounts data {#nationalaccounts}

All of the interpolation and extrapolation methods described above rely
on national accounts data. Two national accounts sources are used:
Household Final Consumption Expenditure (HFCE) and Gross Domestic
Product (GDP) -- both in per capita terms and in typically in constant
USD. Due to its close conceptual relation with the household survey
welfare measure, when available, HFCE is used as the preferred national
accounts data for extrapolation and interpolation methods. In
Sub-Saharan Africa however, HFCE estimates at constant prices are both
sparse and the empirical correlation between growth in HFCE and growth
in survey mean is not as strong (@ravallion2003). Hence, GDP is
preferred for this region. The [World Development
Indicators](https://databank.worldbank.org/source/world-development-indicators)
(WDI) database is the primary source for the HFCE data (in particular we
use the [Households Final Consumption Expenditure per capita (constant
2010 US\$)](https://data.worldbank.org/indicator/NE.CON.PRVT.PC.KD)
series with the series code NE.CON.PRVT.PC.KD) and the GDP data (where
we use the [GDP per capita (constant 2010
US\$)](https://data.worldbank.org/indicator/NY.GDP.PCAP.KD) series with
the series code NY.GDP.PCAP.KD). Where WDI data are not available, we
use data from the [Maddison Project
Database](https://www.rug.nl/ggdc/historicaldevelopment/maddison/?lang=en)
(for details, see Bolt et al., 2018) [Samuel: I'm not quite sure what
source this is (Bolt has many publications, would you mind adding it to
Zotero and linking it here?). For a few cases where both the WDI and the
Maddison Project Database arenot available, country-specific sources --
such as national statistics, research papers, or other versions of the
data -- is used. For a detailed discussion on the sources of national
accounts data see @prydz2019.

## Choosing between consumption and income estimates

The discussion on interpolation and extrapolation for simplicity assumed
that only one survey was available for a given country and a given year.
Yet, a number of countries have poverty estimates available from both
consumption and income aggregates ). Due to its closer connection to
welfare, whenever both income and consumption estimates are available
for a given reference year, consumption estimates are preferred (see
[section on differences between estimating welfare from income and
consumption aggregates](#incomeorconsumption)). Likewise, when both
kinds of poverty estimates are available for the same years (but not for
a particular reference year), interpolations and extrapolation are made
using the consumption estimates.\
When consumption and income estimates are available at different years,
the choice is a bit more complicated. The precise rules are outlined in
the following decision tree:

![](Income%20consumption%20decision%20tree.svg "Income consumption decision tree")

## Regional classification {#regionsandcountries}

In total, 218 economies are included in the global poverty estimates.
The entire universe of economies considered corresponds to the universe
of economies in the [World Bank's Country and Lending
Groups](https://datahelpdesk.worldbank.org/knowledgebase/articles/906519-world-bank-country-and-lending-groups).
The regions employed in PIP, however, differs differs from the regional
classifications used by the World Bank. Some economies, mostly
high-income economies, are excluded from the geographical regions and
are included as a separate group referred to as "other high income" (or
"industrialized economies" or "rest of the world" in earlier
publications). The list of economies included in each region is as
follows:

-   **East Asia and Pacific:**

    -   American Samoa, Cambodia, China, Fiji, Indonesia, Kiribati,
        Korea (Democratic People's Republic of), Lao People's Democratic
        Republic, Malaysia, Marshall Islands, Micronesia Federated
        States of, Mongolia, Myanmar, Northern Mariana Islands, Palau,
        Papua New Guinea, Philippines, Samoa, Solomon Islands, Thailand,
        Timor-Leste, Tonga, Tuvalu, Vanuatu, Vietnam.

-   **Europe and Central Asia:**

    -   Albania, Armenia, Azerbaijan, Belarus, Bosnia and Herzegovina,
        Bulgaria, Croatia, Czech Republic, Estonia, Georgia, Hungary,
        Kazakhstan, Kosovo, Kyrgyz Republic, Latvia, Lithuania, Moldova,
        Montenegro, North Macedonia, Poland, Romania, Russian
        Federation, Serbia, Slovak Republic, Slovenia, Tajikistan,
        Ukraine, Uzbekistan.

-   **Latin America and the Caribbean:**

    -   Argentina, Barbados, Belize, Bolivia, Brazil, Chile, Colombia,
        Costa Rica, Cuba, Dominica, Dominican Republic, Ecuador, El
        Salvador, Grenada, Guatemala, Guyana, Haiti, Honduras, Jamaica,
        Mexico, Nicaragua, Panama, Paraguay, Peru, St. Kitts and Nevis,
        St. Lucia, St. Vincent and the Grenadines, Suriname, Trinidad
        and Tobago, Uruguay, Venezuela, Republica Bolivariana de.

-   **Middle East and North Africa:**

    -   Algeria, Djibouti, Egypt, Arab Republic of, Iran, Islamic
        Republic of, Iraq, Jordan, Lebanon, Libya, Morocco, Oman, Syrian
        Arab Republic, Tunisia, West Bank and Gaza, Yemen, Republic of.

-   **Other High Income:**

    -   Andorra, Antigua and Barbuda, Aruba, Australia, Austria,
        Bahamas, the, Bahrain, Belgium, Bermuda, British Virgin Islands,
        Brunei Darussalam, Canada, Cayman Islands, Channel Islands,
        Curacao, Cyprus, Denmark, Faroe Islands, Finland, France, French
        Polynesia, Germany, Gibraltar, Greece, Greenland, Guam, Hong
        Kong SAR, China, Iceland, Ireland, Isle of Man, Israel, Italy,
        Japan, Korea, Republic of, Kuwait, Liechtenstein, Macao SAR,
        China, Malta, Monaco, Nauru, Netherlands, New Caledonia, New
        Zealand, Norway, Portugal, Puerto Rico, Qatar, San Marino, Saudi
        Arabia, Singapore, Sint Maarten, Spain, St. Martin, Sweden,
        Switzerland, Taiwan, China, Turks and Caicos Islands, United
        Arab Emirates, United Kingdom, United States, Virgin Islands,
        US.

-   **South Asia:**

    -   Afghanistan, Bangladesh, Bhutan, India, Maldives, Nepal,
        Pakistan, Sri Lanka

-   **Sub-Saharan Africa:**

    -   Angola, Benin, Botswana, Burkina Faso, Burundi, Cabo Verde,
        Cameroon, Central African Republic, Chad, Comoros, Congo,
        Democratic Republic of, Congo, Republic of, Cote d'Ivoire,
        Equatorial Guinea, Eritrea, Eswatini, Ethiopia, Gabon, Gambia,
        the, Ghana, Guinea, Guinea-Bissau, Kenya, Lesotho, Liberia,
        Madagascar, Malawi, Mali, Mauritania, Mauritius, Mozambique,
        Namibia, Niger, Nigeria, Rwanda, Sao Tome and Principe, Senegal,
        Seychelles, Sierra Leone, Somalia, South Africa, South Sudan,
        Sudan, Tanzania, Togo, Uganda, Zambia, Zimbabwe.

## Population {#population}

To derive regional and global poverty rates, each country's poverty rate
is weighted using its population share. Population data are taken from
the World Bank's [World Development
Indicators](http://datatopics.worldbank.org/world-development-indicators/)
(WDI). F

The regional and global population may differ from the aggregates given
in the World Development Indicators, because PIP uses the classification
of economies based on whether they are IBRD eligible or recently
graduated (See [Regions and universe of countries
section](#regionsandcountries)). The regional total population only
includes economies that are IBRD eligible or recently graduated. The
remaining economies are included in the group "Other high income" (see
@worldbank2016 and [Regions and universe of countries
section](#regionsandcountries) for a list of economies).

In addition, for Kuwait, Sint Maarten (Dutch part) and West Bank and
Gaza, population data is missing in the WDI for some years. In those
cases, alternative sources are used as outlined here [link to
forthcoming What's New].

## Treatment of countries without any poverty data {#nodata}

With the [interpolation](#interpolations) and
[extrapolation](#extrapolations) rules, all economies with at least one
data point will have poverty estimates available for all years
(conditional on [national accounts data](#nationalaccounts) being
present). Yet some economies have no household survey data that can be
used to monitor poverty (or they lack credible [PPPs](#PPPs) or
[CPIs](#CPIs) necessary to compute international poverty). In order to
include these economies in the regional and global poverty estimates, it
is assumed that they have a poverty headcount equal to their
[region's](#regionsandcountries) population-weighted average. A similar
approach is made if a country with poverty data is lacking national
accounts data for a particular reference year (provided it does not have
a survey at that particular year).

## Coverage rule

Though the [interpolation](#interpolations) rules,
[extrapolation](#extrapolations) rule, and [treatment of countries
without any data](#nodata) assures that *some* poverty estimate is
available for all regions and the world as a whole since 1981, the
confidence one can have in these estimates depends on the how often and
how long one has to extrapolate or interpolate the data and the share of
the population without any data at all. Naturally, one can be more
confident in a data point for a region in which most countries have
survey data near the reference year.

To avoid presenting regional and global numbers with insufficient recent
data, coverage rules are used to determine whether a particular
reference year has sufficient data coverage. A country is considered to
have sufficiently recent data if it has a survey based poverty estimate
at most three years from the reference year. Regional estimates are
displayed if data cover 50 percent of the population in the region. For
regions in which the surveys within three years either side of the
lineup year account for less than half of the regional population, the
regional poverty estimate is not reported.

An additional coverage requirement is applied to govern when global
poverty estimates are reported for a given reference year. This
requirement addresses the goal of focusing the measurement of global
poverty on economies where most of the poor live. Specifically, it tries
to avoid a situation in which the global population threshold is met by
having recent data in the high-income countries, East Asia and Pacific,
and Latin America and the Caribbean, which together account for a very
small share of the global extreme poor. Under this requirement, global
poverty estimates are reported only if data are representative of at
least 50 percent of the population in low-income and lower-middle-income
countries, because most of the poor live in these groups of countries.
The World Bank classification of economies according to income groups in
the reference year is used (see
[here](https://datahelpdesk.worldbank.org/knowledgebase/articles/906519-world-bank-country-and-lending-groups)).

This requirement is only applied to the global poverty estimate, not at
the regional level (for more details see @castanedaaguilar2020 ).

# References
